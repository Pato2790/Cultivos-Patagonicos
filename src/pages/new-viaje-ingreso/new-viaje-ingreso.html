<ion-header>
  <ion-navbar color="cultivos" hideBackButton="true">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Nuevo Viaje</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding class="back-color">
    <ion-grid>
        <ion-row>
            <ion-col col-12 padding>
              <h1 text-center>Nuevo Viaje</h1>
              <p text-center>Ingrese los datos necesarios para generar un nuevo viaje</p>
            </ion-col>
            <ion-col col-12 padding class="back-black-color">
                <h3 padding-top no-margin>Datos generales del Viaje</h3>
            	<form [formGroup]="formNewViajeIngreso" (ngSubmit)="addNewViajeIngreso()">
            	    <ion-grid>
                        <ion-row>
                            <ion-col col-12 padding-bottom>
                                <ion-row>
                                    <ion-item col-12 col-md-6 col-lg-6 class="no-border">
                                      <ion-label stacked>Fecha</ion-label>
                                      <ion-input type="date" [value]="viaje.fecha" (input)="viaje.fecha = $event.target.value" formControlName="fecha"></ion-input>
                                    </ion-item>
                                    <ion-item col-12 col-md-6 col-lg-6 class="no-border">
                                      <ion-label stacked>Costo</ion-label>
                                      <ion-input type="number" [(ngModel)]="viaje.costo" formControlName="costo">
                                      </ion-input>
                                    </ion-item>
                                </ion-row>
                                <ion-item class="no-border">
                                    <select-searchable
                                        [(ngModel)]="viaje.ingreso"
                                        formControlName="ingreso"
                                        title="Ingresos"
                                        itemValueField="id"
                                        itemTextField="nroRemito"
                                        [items]="ingresos"
                                        [canSearch]="true"
                                        (onChange)="ingresoChange($event)">
                                    </select-searchable>
                                </ion-item>
                                <ion-item class="no-border">
                                    <select-searchable
                                        [(ngModel)]="viaje.institucion"
                                        formControlName="institucion"
                                        title="Instituciones"
                                        itemValueField="id"
                                        itemTextField="nombre"
                                        [items]="instituciones"
                                        [canSearch]="true"
                                        (onChange)="institucionChange($event)">
                                    </select-searchable>
                                </ion-item>
                                <ion-item class="no-border">
                                    <select-searchable
                                        [(ngModel)]="viaje.camion"
                                        formControlName="camion"
                                        title="Camiones"
                                        itemValueField="id"
                                        itemTextField="nombreChofer"
                                        [items]="camiones"
                                        [canSearch]="true"
                                        (onChange)="camionChange($event)">
                                    </select-searchable>
                                </ion-item>
                            </ion-col>
                            <ion-col col-12 padding>
                                <ion-buttons right>
                                    <button ion-button color="semiDark" type="submit">Agregar</button>
                                </ion-buttons>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
            	</form>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
